import{j as e,L as f,S as d,o as y,p as i,q as N}from"./index-CKQpsmit.js";import{u as c,f as S,a as w}from"./api-PUEqmf_P.js";const A=()=>{const{isLoading:o,isFetching:x,error:h,data:p}=c(S),{isLoading:u,isFetching:m,error:g,data:b}=c(w);if(x||m)return e.jsx(e.Fragment,{children:"Fetching issues..."});if(o||u)return e.jsx(e.Fragment,{children:"Loading data..."});if(h||g)return e.jsx(e.Fragment,{children:"Ops something happend!"});const l=p.data,n=b.data,j=s=>{const a=s.target.value,r=l.filter(t=>t.title.toLowerCase().includes(a.toLowerCase()));setIssues(r)};return e.jsxs("div",{className:"container mx-auto p-6 bg-gray-50",children:[e.jsx("h1",{className:"text-3xl font-semibold text-black-800 mb-6",children:"Reported Academic Issues"}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx(f,{to:"/assign-issue",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition duration-300",children:"Assign Issue"})}),e.jsx("input",{onChange:j,type:"text",placeholder:"Search Issues...",className:"px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-black  border-gray-300 p-2 w-64  outline-none  "})]}),e.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:e.jsxs("table",{className:"min-w-full table-auto border-separate border-spacing-0",children:[e.jsx("thead",{className:"bg-blue-500 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"ISSUE ID"}),e.jsx("th",{className:"px-6 py-3 text-center",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Reported By"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Date Reported"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Lecturer in charge"})]})}),e.jsx("tbody",{children:l.map(s=>{var a,r;return e.jsxs("tr",{className:"border-b hover:bg-gray-100",children:[e.jsx("td",{className:"px-6 py-4",children:s.id}),e.jsx("td",{className:"px-6 py-4",children:s.title}),e.jsx("td",{className:"px-6 py-4",children:s.category}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${[d,y,i].includes(s.status)?"bg-green-100 text-green-600":s.status==="Pending"?"bg-yellow-100 text-yellow-600":s.status==="Rejected"?"bg-red-100 text-red-600":s.status===i?"bg-blue-100 text-blue-600":s.status===d?"bg-purple-100 text-purple-600":s.status===N?"bg-indigo-100 text-indigo-600":""}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4",children:((a=n.filter(t=>s.owner==t.id)[0])==null?void 0:a.email)||"annon."}),e.jsx("td",{className:"px-6 py-4",children:s.date}),e.jsx("td",{className:"px-6 py-4",children:((r=n.filter(t=>s.assignee==t.id)[0])==null?void 0:r.email)||"N/A"})]},s.id)})})]})})]})};export{A as default};
