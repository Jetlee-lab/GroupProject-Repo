import{a as t,k as I,j as e,c as M,L as R,s as U}from"./index-CKQpsmit.js";import{c as b,B as z}from"./button-Bz1LHsyS.js";import{C as B,a as T,A as V,L as l,I as i,b as D}from"./logo2-Ch0meio-.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$=b("eye-off",O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H=b("eye",G);function J({className:a,...d}){var g,j,w,v,y,N;const[n,u]=t.useState(""),[k,C]=t.useState(""),[x,S]=t.useState(""),[f,P]=t.useState(""),[E,L]=t.useState(""),[F,p]=t.useState([]),[s,h]=t.useState({fetching:!1,content:null}),[m,_]=t.useState(!1);((j=(g=I().data.socialaccount)==null?void 0:g.providers)==null?void 0:j.length)>0;function q(r){if(r.preventDefault(),f!==x){p([{param:"password2",message:"Passwords do not match."}]);return}console.log({password1:x,password2:f}),p([]),h({...s,fetching:!0}),U({email:n,username:k,token:E,password:x}).then(o=>{h(A=>({...A,content:o}))}).catch(o=>{console.error(o),window.alert(o)}).then(()=>{h(o=>({...o,fetching:!1}))})}return e.jsxs("div",{className:M("flex flex-col gap-6",a),...d,children:[e.jsx(B,{className:"overflow-hidden",children:e.jsxs(T,{className:"grid p-0 md:grid-cols-2",children:[e.jsx("div",{className:"relative hidden bg-white md:block",children:e.jsx("img",{src:V,alt:"Image",className:"absolute inset-0 h-full w-full object-contain dark:brightness-[0.2] dark:grayscale"})}),e.jsx("form",{className:"p-6 md:p-8",onSubmit:q,children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create an Account"}),e.jsxs("p",{className:"mt-2 text-balance text-muted-foreground",children:["Already have an account?"," ",e.jsx(R,{to:"/account/login",className:"text-blue-400 underline underline-offset-4",children:"Login here."})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",placeholder:"email@example.com",required:!0,onChange:r=>u(r.target.value)}),s.fetching||e.jsx(c,{param:"email",errors:(w=s.content)==null?void 0:w.errors})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"username",children:"Username"}),e.jsx(i,{id:"username",type:"text",required:!0,onChange:r=>C(r.target.value)}),s.fetching||e.jsx(c,{param:"username",errors:(v=s.content)==null?void 0:v.errors})]}),e.jsxs("div",{className:"md:flex gap-4 md:items-center",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(i,{id:"password",type:m?"text":"password",required:!0,onChange:r=>P(r.target.value)}),s.fetching||e.jsx(c,{param:"password",errors:(y=s.content)==null?void 0:y.errors})]}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{htmlFor:"password",children:"Repeat Password"}),e.jsx(i,{id:"password2",type:m?"text":"password",required:!0,onChange:r=>S(r.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-1 top-4 right-3 flex items-center text-muted-foreground",onClick:()=>_(!m),children:m?e.jsx($,{size:18}):e.jsx(H,{size:18})}),s.fetching||e.jsx(c,{param:"password2",errors:F})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"token",children:"Reference Token"}),e.jsx(i,{id:"token",type:"text",required:!0,onChange:r=>L(r.target.value)}),s.fetching||e.jsx(c,{param:"token",errors:(N=s.content)==null?void 0:N.errors})]}),e.jsx(z,{type:"submit",className:"w-full",disabled:s.fetching,children:s.fetching&&e.jsx(D,{className:"animate-spin"})||"Sign Up"})]})})]})}),e.jsxs("div",{className:"text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary",children:["By clicking continue, you agree to our ",e.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",e.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})}function c(a){if(!a.errors||!a.errors.length)return null;const d=a.errors.filter(n=>a.param?n.param===a.param:n.param==null);return d.length?e.jsx("ul",{className:"text-red-600 text-sm",children:d.map((n,u)=>e.jsx("li",{children:n.message},u))}):null}function Y(){return e.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center bg-muted p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-sm md:max-w-3xl",children:e.jsx(J,{})})})}export{Y as default};
